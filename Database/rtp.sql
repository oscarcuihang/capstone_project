-- MySQL Script generated by MySQL Workbench
-- Tue Feb 24 15:26:57 2015
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema rtp
-- -----------------------------------------------------


-- -----------------------------------------------------
-- Schema rtp
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `rtp` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `rtp` ;

-- -----------------------------------------------------
-- Table `rtp`.`userInfo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`userInfo` ;

CREATE TABLE IF NOT EXISTS `rtp`.`userInfo` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `user_fname` VARCHAR(45) NOT NULL,
  `user_lname` VARCHAR(45) NOT NULL,
  `user_email` VARCHAR(45) NOT NULL,
  `user_phone` VARCHAR(45) NULL DEFAULT NULL,
  `user_salt` VARCHAR(200) NOT NULL,
  `user_hashpass` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'admin', 'admin', 'admin@admin.com', '', 'admin', 'f6fdffe48c908deb0f4c3bd36c032e72');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user8', 'user8', 'user8@user8.com', '', 'user8', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user7', 'user7', 'user7@user7.com', '', 'user7', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user6', 'user6', 'user6@user6.com', '', 'user6', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user5', 'user5', 'user5@user5.com', '', 'user5', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user4', 'user4', 'user4@user4.com', '', 'user4', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user3', 'user3', 'user3@user3.com', '', 'user3', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user2', 'user2', 'user2@user2.com', '', 'user2', '5cc32e366c87c4cb49e4309b75f57d64');
INSERT INTO `rtp`.`userInfo` VALUES(DEFAULT, 'user1', 'user1', 'user1@user1.com', '', 'user1', '5cc32e366c87c4cb49e4309b75f57d64');


-- -----------------------------------------------------
-- Table `rtp`.`userLog`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`userLog` ;

CREATE TABLE IF NOT EXISTS `rtp`.`userLog` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `log_userid` INT NOT NULL,
  `log_ip` VARCHAR(45) NOT NULL,
  `log_timestamp` TIMESTAMP NOT NULL,
  `log_activity` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`, `log_userid`),
  INDEX `fk_userLog_userInfo1_idx` (`log_userid` ASC),
  CONSTRAINT `fk_userLog_userInfo1`
    FOREIGN KEY (`log_userid`)
    REFERENCES `rtp`.`userInfo` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `rtp`.`tripPlan`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`tripPlan` ;

CREATE TABLE IF NOT EXISTS `rtp`.`tripPlan` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `trip_userid` INT NOT NULL,
  `trip_title` VARCHAR(50) NOT NULL,
  `trip_startaddress` VARCHAR(100) NOT NULL,
  `trip_endaddress` VARCHAR(100) NOT NULL,
  `trip_detailid` INT NULL,
  `trip_last_updated` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`, `trip_userid`),
  INDEX `fk_tripPlan_userInfo1_idx` (`trip_userid` ASC),
  CONSTRAINT `fk_tripPlan_userInfo1`
    FOREIGN KEY (`trip_userid`)
    REFERENCES `rtp`.`userInfo` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '1', 'My first trip', 'A', 'G', '1', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '2', 'My secon trip', 'B', 'A', '2', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '3', 'My  trip', 'C', 'B', '3', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '4', 'My  trip', 'D', 'C', '4', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '5', 'My  trip', 'E', 'C', '5', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '6', 'My  trip', 'F', 'B', '6', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '7', 'My  trip', 'G', 'B', '7', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '8', 'My  trip', 'H', 'B', '8', DEFAULT);
INSERT INTO `rtp`.`tripPlan` VALUES(DEFAULT, '9', 'My  trip', 'I', 'A', '9', DEFAULT);


-- -----------------------------------------------------
-- Table `rtp`.`tripDetail`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`tripDetail` ;

CREATE TABLE IF NOT EXISTS `rtp`.`tripDetail` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `detail_tripid` INT NOT NULL,
  `detail_waypoint1_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint2_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint3_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint4_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint5_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint6_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint7_address` VARCHAR(100) NULL DEFAULT NULL,
  `detail_waypoint8_address` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`id`, `detail_tripid`),
  INDEX `fk_tripDetail_tripPlan1_idx` (`detail_tripid` ASC),
  CONSTRAINT `fk_tripDetail_tripPlan1`
    FOREIGN KEY (`detail_tripid`)
    REFERENCES `rtp`.`tripPlan` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `rtp`.`question`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`question` ;

CREATE TABLE IF NOT EXISTS `rtp`.`question` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `question_userid` INT NOT NULL,
  `question_text` VARCHAR(1024) NOT NULL,
  `question_timestamp` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`, `question_userid`),
  INDEX `fk_question_userInfo1_idx` (`question_userid` ASC),
  CONSTRAINT `fk_question_userInfo1`
    FOREIGN KEY (`question_userid`)
    REFERENCES `rtp`.`userInfo` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `rtp`.`question` VALUES(DEFAULT, '1', 'My  trip', DEFAULT);
INSERT INTO `rtp`.`question` VALUES(DEFAULT, '1', 'M1p', DEFAULT);
INSERT INTO `rtp`.`question` VALUES(DEFAULT, '1', 'My  wdsadip', DEFAULT);
INSERT INTO `rtp`.`question` VALUES(DEFAULT, '1', 'Myascq trip', DEFAULT);
INSERT INTO `rtp`.`question` VALUES(DEFAULT, '1', 'My  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  tripMy  trip', DEFAULT);


-- -----------------------------------------------------
-- Table `rtp`.`answer`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`answer` ;

CREATE TABLE IF NOT EXISTS `rtp`.`answer` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `answer_userid` INT NOT NULL,
  `answer_questionid` INT NOT NULL,
  `answer_text` VARCHAR(512) NOT NULL,
  `answer_timestamp` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`, `answer_userid`, `answer_questionid`),
  INDEX `fk_answer_userInfo1_idx` (`answer_userid` ASC),
  INDEX `fk_answer_question1_idx` (`answer_questionid` ASC),
  CONSTRAINT `fk_answer_userInfo1`
    FOREIGN KEY (`answer_userid`)
    REFERENCES `rtp`.`userInfo` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_answer_question1`
    FOREIGN KEY (`answer_questionid`)
    REFERENCES `rtp`.`question` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `rtp`.`travelJournal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`travelJournal` ;

CREATE TABLE IF NOT EXISTS `rtp`.`travelJournal` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `journal_userid` INT NOT NULL,
  `journal_title` VARCHAR(100) NOT NULL,
  `journal_content` TEXT NOT NULL,
  `journal_timestamp` TIMESTAMP NOT NULL,
  `journal_cover_page` VARCHAR(100),
  `journal_status` Boolean NOT NULL,

  PRIMARY KEY (`id`, `journal_userid`),
  INDEX `fk_travelJournal_userInfo1_idx` (`journal_userid` ASC),
  CONSTRAINT `fk_travelJournal_userInfo1`
    FOREIGN KEY (`journal_userid`)
    REFERENCES `rtp`.`userInfo` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `rtp`.`travelJournal` VALUES(DEFAULT, '2', 'ABCDEFGHIJKLMN', 'ABCDEFGHIJKLMNasddd , sakdhjhjkfjjj, asdhhvvghasd, asjhdjksahjkr, hhhasdjkjj, asdaszzxc, jasdjhjh,asjdhjkjkjkkjkjjk,

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia.
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia.', '2015-04-13 16:43:31', '', '1');
INSERT INTO `rtp`.`travelJournal` VALUES(DEFAULT, '1', 'I am a new Journal!', 'Im a new Journal!
Test 
Test 
Test Test
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia. Curabitur laoreet, nulla nec venenatis sagittis, libero magna aliquam tellus, et convallis leo tellus eu nulla. Quisque libero nisi, viverra nec interdum at, accumsan id tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis volutpat, libero sed consectetur aliquet, elit ipsum varius velit, eget tristique tortor nunc ut ligula. Donec in imperdiet tortor. Sed commodo purus vel dolor adipiscing ut dapibus massa lacinia.', '2015-04-13 18:43:31', '', '1');



-- -----------------------------------------------------
-- Table `rtp`.`travelJournalComment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`travelJournalComment` ;

CREATE TABLE IF NOT EXISTS `rtp`.`travelJournalComment` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `comment_userid` INT NOT NULL,
  `comment_traveljournalid` INT NOT NULL,
  `comment_text` VARCHAR(512) NOT NULL,
  `comment_timestamp` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`, `comment_userid`, `comment_traveljournalid`),
  INDEX `fk_travelJournalComment_userInfo1_idx` (`comment_userid` ASC),
  INDEX `fk_travelJournalComment_travelJournal1_idx` (`comment_traveljournalid` ASC),
  CONSTRAINT `fk_travelJournalComment_userInfo1`
    FOREIGN KEY (`comment_userid`)
    REFERENCES `rtp`.`userInfo` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_travelJournalComment_travelJournal1`
    FOREIGN KEY (`comment_traveljournalid`)
    REFERENCES `rtp`.`travelJournal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `rtp`.`travelJournalTag`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `rtp`.`travelJournalTag` ;

CREATE TABLE IF NOT EXISTS `rtp`.`travelJournalTag` (
  `travelJournal_id` INT NOT NULL,
  `journal_tag1` VARCHAR(45) NULL DEFAULT NULL,
  `journal_tag2` VARCHAR(45) NULL DEFAULT NULL,
  `journal_tag3` VARCHAR(45) NULL DEFAULT NULL,
  `journal_tag4` VARCHAR(45) NULL DEFAULT NULL,
  `journal_tag5` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`travelJournal_id`),
  INDEX `fk_travelJournalTag_travelJournal1_idx` (`travelJournal_id` ASC),
  CONSTRAINT `fk_travelJournalTag_travelJournal1`
    FOREIGN KEY (`travelJournal_id`)
    REFERENCES `rtp`.`travelJournal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
